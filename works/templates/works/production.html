{% extends "base.html" %}
{% load static %}

{% block hero_image %}{{ production.hero_image_url }}{% endblock %}

{% block h1 %}
    {{ production.work.name }} {{ production.year }}
{% endblock %}

{% block content %}

<section class="page-section" id="services">
    <div class="container">
    
        <h2  class="display-6 text-center">{{ production.tagline }}</h2>

        <p>{{ production.synopsis }}</p>
        
        <p>{{ production.hash_tag }}</p>

        <dl class="row">
            <dt class="col-sm-3">Premier</dt>
            <dd class="col-sm-9">{{ production.production_premiere }}</dd>
    
            <dt class="col-sm-3">director</dt>
            <dd class="col-sm-9">
                <ul class="timeline"><li><div class="timeline-image" style="background-image: url('{{ production.director.thumb_image_url }}');"></div></li></ul>
                {{ production.director.name }}
            </dd>

            <dt class="col-sm-3">Set designer</dt>
            <dd class="col-sm-9">{{ production.cast }}</dd>
    
            <dt class="col-sm-3">costume_designer</dt>
            <dd class="col-sm-9">{{ production.costume_designer }}</dd>
    
            <dt class="col-sm-3">lighting_designer</dt>
            <dd class="col-sm-9">{{ production.lighting_designer }}</dd>
    
            <dt class="col-sm-3">relighter</dt>
            <dd class="col-sm-9">{{ production.relighter }}</dd>
    
            <dt class="col-sm-3">choreographer</dt>
            <dd class="col-sm-9">{{ production.choreographer }}</dd>
    
            <dt class="col-sm-3">producer</dt>
            <dd class="col-sm-9">{{ production.producer }}</dd>
    
            <dt class="col-sm-3">dead</dt>
            <dd class="col-sm-9">{{ production.dead }}</dd>
        </dl>

    </div>
</section>

<!-- CREATIVES -->
<section class="page-section bg-light py-5" id="creatives">
    <div class="container">
        <div class="text-center">
            <h2 class="text-uppercase">Creative team</h2>
            <p class="text-muted">Meet the creative team behind {{ production.work.name }}</p>
        </div>

        <div class="row">
            {% for role in creatives %}
            <div class="col-2 text-center">

                <div class="img-circle-outer">
                    <div class="img-cover img-circle" style="background-image: url('{{ role.person.thumb_image_url }}');"></div>
                </div>

                <h5><a href="{% url 'person' role.person.url %}">{{ role.person.name }}</a></h5>
                <p class="text-muted">{{ role.name }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>


<!-- CAST -->
<section class="page-section" id="cast">
    <div class="container">
        <div class="text-center">
            <h2 class="section-heading text-uppercase">Cast</h2>
            <h3 class="section-subheading text-muted">Meet the cast on {{ production.work.name }}</h3>
        </div>
        <div class="row">

            {% for role in cast %}
            <div class="col-lg-4">
                <div class="team-member">
                    <div class="team-member-container rounded-circle">
                        <div class="team-member-img rounded-circle" style="background-image: url('{{ role.person.thumb_image_url }}');"></div>
                    </div>
                    <h4><a href="{% url 'person' role.person.url %}">{{ role.person.name }}</a></h4>
                    <p class="text-muted">{{ role.name }}</p>
                    {% if role.person.facebook %}<a class="btn btn-dark btn-social mx-2" href="{{ role.person.facebook }}"><i class="fab fa-facebook-f"></i></a>{% endif %}
                    {% if role.person.twitter %}<a class="btn btn-dark btn-social mx-2" href="{{ role.person.twitter }}"><i class="fab fa-twitter"></i></a>{% endif %}
                </div>
            </div>
            {% endfor %}
    </div>
</section>


<!-- STAFF -->
<section class="page-section bg-light" id="staff">
    <div class="container">
        <div class="text-center">
            <h2 class="section-heading text-uppercase">Staff</h2>
            <h3 class="section-subheading text-muted">Meet the team behind the scenes of {{ production.work.name }}</h3>
        </div>
        <div class="row">

            {% for role in staff %}
            <div class="col-2">
                <div class="team-member">
                    <div class="team-member-container rounded-circle">
                        <div class="team-member-img rounded-circle" style="background-image: url('{{ role.person.thumb_image_url }}');"></div>
                    </div>
                    <h4><a href="{% url 'person' role.person.url %}">{{ role.person.name }}</a></h4>
                    <p class="text-muted">{{ role.name }}</p>
                    {% if role.person.facebook %}<a class="btn btn-dark btn-social mx-2" href="{{ role.person.facebook }}"><i class="fab fa-facebook-f"></i></a>{% endif %}
                    {% if role.person.twitter %}<a class="btn btn-dark btn-social mx-2" href="{{ role.person.twitter }}"><i class="fab fa-twitter"></i></a>{% endif %}
                </div>
            </div>
            {% endfor %}
    </div>
</section>


    <!-- Media Grid-->
    <section class="page-section bg-light" id="portfolio">
        <div class="container">
            <div class="text-center">
                <h2 class="section-heading text-uppercase">Media</h2>
            </div>
            <div class="row">
                {% for media_item in media %}
                <div class="col-lg-4 col-sm-6 mb-4">
                    <div class="portfolio-item">
                        <a class="portfolio-link" data-bs-toggle="modal" href="{% url 'production_media' media_item.id %}">
                            <div class="portfolio-hover">
                                <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="{{ media_item.thumb_image.url }}" alt="{{ media_item.name}}" />
                        </a>
                        <div class="portfolio-caption">
                            <div class="portfolio-caption-heading">{{ media_item.name}}</div>
                            <div class="portfolio-caption-subheading text-muted">{{ media_item.name}}</div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>


    <!-- Other productions-->
    <section class="page-section" id="about">
        <div class="container">
            <div class="text-center">
                <h2 class="section-heading text-uppercase">Productions</h2>
            </div>
            <ul class="timeline">

                {% for other_production in other_productions %}

                    {% if forloop.counter|divisibleby:2 %}
                        <li>
                    {% else %}
                        <li class="timeline-inverted">
                    {% endif %}

                    
                    <div class="timeline-image" style="background-image: url('{{ other_production.thumb_image_url }}');">
                    </div>
                    <div class="timeline-panel">
                        <div class="timeline-heading">
                            <a href="{% url 'production' other_production.work.url 
                            %}"><h4>{{ other_production.year}}</h4></a>
                            <h4 class="subheading">{{ other_production.year}}</h4>
                        </div>
                        <div class="timeline-body"><p class="text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Sunt ut voluptatum eius sapiente, totam reiciendis temporibus qui quibusdam, recusandae sit vero unde, sed, incidunt et ea quo dolore laudantium consectetur!</p></div>
                    </div>
                </li>
                {% endfor %}

                <li>
                    <div class="timeline-image">
                        <h4>
                            Premiere:
                            <br />
                            {{ production.work.world_premiere|date:"d M" }}
                            <br />
                            {{ production.work.world_premiere|date:"Y" }}
                        </h4>
                    </div>
                </li>
            </ul>
        </div>
    </section>



{% endblock %}

